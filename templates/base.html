<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}hellsy.tube{% endblock %}</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <nav class="nav">
            <a href="/" class="nav-brand">
                <span class="brand-icon">&#9654;</span>
                <span class="brand-text">hellsy<span class="brand-dot">.</span>tube</span>
            </a>

            <form class="search-bar" action="/search" method="get">
                <input type="text" name="q" placeholder="Search videos..." value="{{ request.query_params.get('q', '') }}" autocomplete="off">
                <button type="submit" class="search-btn">Search</button>
            </form>

            <div class="nav-actions">
                {% if user %}
                    <a href="/upload" class="btn btn-upload">Upload</a>
                    <a href="/my-videos" class="nav-link">My Videos</a>
                    {% if user.is_admin %}
                        <a href="/admin" class="nav-link nav-admin">Admin</a>
                    {% endif %}
                    <div class="user-pill">
                        {% if user.avatar_url %}
                            <img src="{{ user.avatar_url }}" alt="" class="user-avatar">
                        {% else %}
                            <span class="user-avatar-placeholder">{{ user.name[0]|upper }}</span>
                        {% endif %}
                        <span class="user-name">{{ user.name }}</span>
                        <a href="/logout" class="btn-logout">Logout</a>
                    </div>
                {% else %}
                    <a href="/login" class="btn btn-login">Sign In</a>
                {% endif %}
            </div>

            <button class="mobile-toggle" onclick="document.querySelector('.nav-actions').classList.toggle('open')">&#9776;</button>
        </nav>
    </header>

    <main class="main">
        {% block content %}{% endblock %}
    </main>

    <footer class="footer">
        <div class="footer-inner">
            <span class="footer-brand">&#9654; hellsy.tube</span>
            <span class="footer-stats" id="footer-stats"></span>
            <span class="footer-copy">&copy; 2026 hellsy.tube</span>
        </div>
    </footer>

    <script src="/static/app.js"></script>
    {% block scripts %}{% endblock %}
</body>
</html>
